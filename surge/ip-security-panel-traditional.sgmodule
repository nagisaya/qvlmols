#!name=IP Security Monitor
#!desc=顯示 IP 風險評分、類型、代理策略與入口／出口 IP 地理資訊，支援網路變更自動通知
#!author=HotKids&ChatGPT&Claude
#!system=ios
#!arguments=ipqs_key:null,lang:en,mask_ip:0,event_delay:2
#!arguments-desc=ipqs_key:(可選) IPQualityScore API Key，留空使用免費服務\nlang:(可選) 地理資訊語言，en=英文(ipinfo.io)，zh=中文(bilibili)，預設 en\nmask_ip:(可選) IP 打碼，1=開啟（123.*.*.89），0=關閉，預設 0\nevent_delay:(可選) 網路變更後延遲檢測時間（秒），預設 2 秒

[Panel]
ip-security-panel = script-name=ip-security-panel,update-interval=600

[Script]
# 面板手動觸發
ip-security-panel = type=generic,timeout=10,script-path=https://raw.githubusercontent.com/nagisaya/qvlmols/refs/heads/main/surge/ip-security.js,argument=ipqs_key={{{ipqs_key}}}&lang={{{lang}}}&mask_ip={{{mask_ip}}}

# 網路變更自動觸發
ip-security-event = type=event,event-name=network-changed,timeout=10,script-path=https://raw.githubusercontent.com/nagisaya/qvlmols/refs/heads/main/surge/ip-security.js,argument=TYPE=EVENT&ipqs_key={{{ipqs_key}}}&lang={{{lang}}}&mask_ip={{{mask_ip}}}&event_delay={{{event_delay}}}
